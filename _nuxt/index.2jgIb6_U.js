import{s as g,o as d,c as w,a,G as $,a3 as C,E as _,a4 as x,a5 as S,g as D,D as M,r as T,z as m,w as v,b as W,t as p,F as B,A as O,C as V,n as j,q as y,K as G,h as P}from"./entry.3YJjmiG8.js";const z={class:"h-min w-min outline transition-all hover:outline-pink-500",type:"button"},A=g({__name:"icon",props:{icon:{}},setup(t){const i=e=>({backgroundImage:`url(./${e}), url(./GUI/Icon/Item/Dummy.png)`});return(e,n)=>(d(),w("button",z,[a("div",{class:"h-12 w-12 bg-contain bg-center bg-no-repeat transition-opacity hover:opacity-50",style:C(i(e.icon))},[$(e.$slots,"default")],4)]))}}),L={class:"max-w-3xl bg-black/50 p-4"},N=g({__name:"modal",emits:["on-close"],setup(t){return(i,e)=>(d(),_(S,{to:"#items-modal"},[a("section",{class:"fixed left-0 top-0 flex h-full w-full place-content-center place-items-center bg-black/50 leading-relaxed backdrop-blur-md",onClick:e[0]||(e[0]=x(n=>i.$emit("on-close"),["self"]))},[a("section",L,[$(i.$slots,"default")])])]))}});function h(t){return typeof t=="function"?t():m(t)}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const b=()=>{};function F(t,i){function e(...n){return new Promise((s,o)=>{Promise.resolve(t(()=>i.apply(this,n),{fn:i,thisArg:this,args:n})).then(s).catch(o)})}return e}const R=t=>t();function k(t,i={}){let e,n,s=b;const o=r=>{clearTimeout(r),s(),s=b};return r=>{const l=h(t),u=h(i.maxWait);return e&&o(e),l<=0||u!==void 0&&u<=0?(n&&(o(n),n=null),Promise.resolve(r())):new Promise((f,I)=>{s=i.rejectOnCancel?I:f,u&&!n&&(n=setTimeout(()=>{e&&o(e),n=null,f(r())},u)),e=setTimeout(()=>{n&&o(n),n=null,f(r())},l)})}}function ne(t,i=200,e={}){return F(k(i,e),t)}function E(t,i,e={}){const{eventFilter:n=R,...s}=e;return D(t,F(n,i),s)}function H(t=!1,i={}){const{truthyValue:e=!0,falsyValue:n=!1}=i,s=M(t),o=T(t);function c(r){if(arguments.length)return o.value=r,o.value;{const l=h(e);return o.value=o.value===l?h(n):l,o.value}}return s?c:[o,c]}function U(t,i,e={}){const{debounce:n=0,maxWait:s=void 0,...o}=e;return E(t,i,{...o,eventFilter:k(n,{maxWait:s})})}const q={class:"grid grid-cols-[auto_1fr] gap-x-2 gap-y-4"},K={class:"flex grow flex-col self-center"},J={class:"col-span-full"},Q={class:"flex justify-evenly gap-4 text-center"},X={class:"font-bold uppercase"},Y={class:"flex justify-center gap-4"},Z={class:"text-white/50"},ee=["innerHTML"],se=g({__name:"button",props:{item:{}},setup(t){const i=["gainType","inventoryType","slotType"],[e,n]=H();return(s,o)=>{const c=A,r=N;return d(),_(c,{onClick:o[1]||(o[1]=l=>m(n)()),icon:s.item.icon},{default:v(()=>[m(e)?(d(),_(r,{key:0,onOnClose:o[0]||(o[0]=l=>m(n)(!1))},{default:v(()=>[a("div",q,[W(c,{icon:s.item.icon},null,8,["icon"]),a("div",K,[a("span",null,p(s.item.id),1),a("span",null,p(s.$t(`items.${s.item.id}.name`)),1)]),a("div",J,[a("ul",Q,[(d(),w(B,null,O(i,l=>a("li",{class:"w-full whitespace-nowrap rounded bg-pink-500/50 px-4 py-2",key:l},[a("h4",X,p(s.$t(`${l}.name`)),1),a("div",Y,[a("span",Z,p(s.item[l]),1),a("p",null,p(s.$t(`${l}.values.${s.item[l]}`)),1)])])),64))])]),a("div",{innerHTML:s.$t(`items.${s.item.id}.description`),class:"col-span-full whitespace-pre-wrap"},null,8,ee)])]),_:1})):V("",!0)]),_:1},8,["icon"])}}}),oe=j("filter-store",()=>{const t=T([]),i=y(new Map);function e(o){const c=y(new Map);return i.set(o,c),P(()=>{i.delete(o)}),{filters:c,set:({callable:u,id:f})=>c.set(f,u),del:({id:u})=>c.delete(u)}}const{items:n}=G();function s(o){t.value=n;for(const[c,r]of o){if(r.size===0)continue;const l=Array.from(r.values());t.value=t.value.filter(u=>l.some(f=>f(u)))}}return U(i,s,{debounce:300}),{useFilter:e,filtered:t}});export{se as _,ne as a,oe as u};
